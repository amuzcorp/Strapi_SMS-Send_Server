"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[921],{5921:function(t,a,e){e.r(a),e.d(a,{default:function(){return P}});var l=e(6252),s=e(3577);const d=t=>((0,l.dD)("data-v-348f07a9"),t=t(),(0,l.Cn)(),t),o={key:0,class:"board_detail_view"},i={class:"table table-dark"},r=d((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{scope:"col"},"id"),(0,l._)("th",{scope:"col"},"제목"),(0,l._)("th",{scope:"col"},"날짜"),(0,l._)("th",{scope:"col"})])],-1))),n=d((()=>(0,l._)("br",null,null,-1))),c={class:"tableContent"},u={style:{padding:"0rem 1rem"}},b=(0,l.uE)('<div class="row justify-content-around table-top-btn" data-v-348f07a9><div class="col-4" data-v-348f07a9><button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@mdo" data-v-348f07a9> 글쓰기 </button></div><div class="col-4" data-v-348f07a9><button type="button" class="btn btn-dark" data-v-348f07a9>내 글</button></div><div class="col-4" data-v-348f07a9><button type="button" class="btn btn-dark" data-v-348f07a9>내 댓글</button></div></div>',1),h={class:"table table-dark",style:{"margin-bottom":"0"}},p=d((()=>(0,l._)("tr",{class:"table-dark",style:{}},[(0,l._)("td",{class:"table-dark"},"아이디"),(0,l._)("td",{class:"table-dark"},"제목"),(0,l._)("td",{class:"table-dark"},"날짜")],-1))),_=["onClick"],w={class:"table-dark"},k={class:"table-dark"},g={class:"table-dark"},m=d((()=>(0,l._)("br",null,null,-1)));function v(t,a,e,d,v,f){return(0,l.wg)(),(0,l.iD)(l.HY,null,[v.DetailShow?((0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("table",i,[r,(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,(0,s.zw)(v.detailPost.id),1),(0,l._)("td",null,(0,s.zw)(v.detailPost.attributes.title),1),(0,l._)("td",null,[(0,l.Uk)((0,s.zw)(v.detailPost.attributes.createdAt[0])+" ",1),n,(0,l.Uk)(" "+(0,s.zw)(v.detailPost.attributes.createdAt[1]),1)]),(0,l._)("td",null,[(0,l._)("button",{type:"button",class:"btn btn-dark",onClick:a[0]||(a[0]=t=>this.DetailShow=!1)}," X ")])])]),(0,l._)("div",c,(0,s.zw)(v.detailPost.attributes.content),1)])])):(0,l.kq)("",!0),(0,l._)("div",u,[b,(0,l._)("table",h,[p,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(v.posts,(t=>((0,l.wg)(),(0,l.iD)("tr",{class:"table-dark",key:t,onClick:a=>f.CommunityDetailView(t.id)},[(0,l._)("td",w,(0,s.zw)(t.id),1),(0,l._)("td",k,(0,s.zw)(t.title),1),(0,l._)("td",g,[(0,l.Uk)((0,s.zw)(t.createdAt[0])+" ",1),m,(0,l.Uk)(" "+(0,s.zw)(t.createdAt[1]),1)])],8,_)))),128))])])],64)}var f=e(9669),D=e.n(f),A=e(381),Y=e.n(A),y={name:"TableView",data(){return{DetailShow:!1,posts:[],detailPost:{}}},methods:{CommunityDetailView(t){D()(`/api/posts/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((t=>{let a=t.data.data.attributes.createdAt;a=Y()(Y()(a).add("9","h")).format("YYYY년 M월 DD일.HH시 MM분 ss초 A"),this.detailPost=t.data.data,console.log("date",a),this.detailPost.attributes.createdAt=a.split("."),this.DetailShow=!0})).catch((t=>{console.log(t)}))},mountedGetBoard(t){D()(`/api/posts?pagination%5Bpage%5D=${t}&sort[0]=id%3Adesc`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((t=>{let a=t.data.data,e=[];for(let l=0;l<a.length;l++){let t=a[l].attributes.createdAt;t=Y()(Y()(t).add("9","h")).format("YYYY년 M월 DD일.HH시 MM분 ss초 A"),e.push({id:a[l].id,title:a[l].attributes.title,createdAt:t.split(".")})}this.posts=e})).catch((t=>{console.log(t)}))}},mounted(){this.mountedGetBoard(this.$route.params.id)},computed:{thisPage(){return this.$route.params.id}},watch:{thisPage(){D()(`/api/posts?pagination%5Bpage%5D=${this.$route.params.id}&sort[0]=id%3Adesc`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((t=>{let a=t.data.data,e=[];for(let l=0;l<a.length;l++){let t=a[l].attributes.createdAt;t=Y()(Y()(t).add("9","h")).format("YYYY년 M월 DD일.HH시 MM분 SS초"),e.push({id:a[l].id,title:a[l].attributes.title,createdAt:t.split(".")})}return this.posts=e,t.data.meta.pagination.total}))}}},z=e(3744);const M=(0,z.Z)(y,[["render",v],["__scopeId","data-v-348f07a9"]]);var P=M}}]);
//# sourceMappingURL=921.e7894bcf.js.map