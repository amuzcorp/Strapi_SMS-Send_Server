"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[65,921,579],{5921:function(t,a,e){e.r(a),e.d(a,{default:function(){return Y}});var l=e(6252),s=e(3577);const o=t=>((0,l.dD)("data-v-348f07a9"),t=t(),(0,l.Cn)(),t),i={key:0,class:"board_detail_view"},n={class:"table table-dark"},d=o((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{scope:"col"},"id"),(0,l._)("th",{scope:"col"},"제목"),(0,l._)("th",{scope:"col"},"날짜"),(0,l._)("th",{scope:"col"})])],-1))),r=o((()=>(0,l._)("br",null,null,-1))),c={class:"tableContent"},u={style:{padding:"0rem 1rem"}},b=(0,l.uE)('<div class="row justify-content-around table-top-btn" data-v-348f07a9><div class="col-4" data-v-348f07a9><button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@mdo" data-v-348f07a9> 글쓰기 </button></div><div class="col-4" data-v-348f07a9><button type="button" class="btn btn-dark" data-v-348f07a9>내 글</button></div><div class="col-4" data-v-348f07a9><button type="button" class="btn btn-dark" data-v-348f07a9>내 댓글</button></div></div>',1),p={class:"table table-dark",style:{"margin-bottom":"0"}},m=o((()=>(0,l._)("tr",{class:"table-dark",style:{}},[(0,l._)("td",{class:"table-dark"},"아이디"),(0,l._)("td",{class:"table-dark"},"제목"),(0,l._)("td",{class:"table-dark"},"날짜")],-1))),h=["onClick"],g={class:"table-dark"},_={class:"table-dark"},f={class:"table-dark"},v=o((()=>(0,l._)("br",null,null,-1)));function w(t,a,e,o,w,k){return(0,l.wg)(),(0,l.iD)(l.HY,null,[w.DetailShow?((0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("table",n,[d,(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,(0,s.zw)(w.detailPost.id),1),(0,l._)("td",null,(0,s.zw)(w.detailPost.attributes.title),1),(0,l._)("td",null,[(0,l.Uk)((0,s.zw)(w.detailPost.attributes.createdAt[0])+" ",1),r,(0,l.Uk)(" "+(0,s.zw)(w.detailPost.attributes.createdAt[1]),1)]),(0,l._)("td",null,[(0,l._)("button",{type:"button",class:"btn btn-dark",onClick:a[0]||(a[0]=t=>this.DetailShow=!1)}," X ")])])]),(0,l._)("div",c,(0,s.zw)(w.detailPost.attributes.content),1)])])):(0,l.kq)("",!0),(0,l._)("div",u,[b,(0,l._)("table",p,[m,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(w.posts,(t=>((0,l.wg)(),(0,l.iD)("tr",{class:"table-dark",key:t,onClick:a=>k.CommunityDetailView(t.id)},[(0,l._)("td",g,(0,s.zw)(t.id),1),(0,l._)("td",_,(0,s.zw)(t.title),1),(0,l._)("td",f,[(0,l.Uk)((0,s.zw)(t.createdAt[0])+" ",1),v,(0,l.Uk)(" "+(0,s.zw)(t.createdAt[1]),1)])],8,h)))),128))])])],64)}var k=e(9669),y=e.n(k),D=e(381),A=e.n(D),z={name:"TableView",data(){return{DetailShow:!1,posts:[],detailPost:{}}},methods:{CommunityDetailView(t){y()(`/api/posts/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((t=>{let a=t.data.data.attributes.createdAt;a=A()(A()(a).add("9","h")).format("YYYY년 M월 DD일.HH시 MM분 ss초 A"),this.detailPost=t.data.data,console.log("date",a),this.detailPost.attributes.createdAt=a.split("."),this.DetailShow=!0})).catch((t=>{console.log(t)}))},mountedGetBoard(t){y()(`/api/posts?pagination%5Bpage%5D=${t}&sort[0]=id%3Adesc`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((t=>{let a=t.data.data,e=[];for(let l=0;l<a.length;l++){let t=a[l].attributes.createdAt;t=A()(A()(t).add("9","h")).format("YYYY년 M월 DD일.HH시 MM분 ss초 A"),e.push({id:a[l].id,title:a[l].attributes.title,createdAt:t.split(".")})}this.posts=e})).catch((t=>{console.log(t)}))}},mounted(){this.mountedGetBoard(this.$route.params.id)},computed:{thisPage(){return this.$route.params.id}},watch:{thisPage(){y()(`/api/posts?pagination%5Bpage%5D=${this.$route.params.id}&sort[0]=id%3Adesc`,{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((t=>{let a=t.data.data,e=[];for(let l=0;l<a.length;l++){let t=a[l].attributes.createdAt;t=A()(A()(t).add("9","h")).format("YYYY년 M월 DD일.HH시 MM분 SS초"),e.push({id:a[l].id,title:a[l].attributes.title,createdAt:t.split(".")})}return this.posts=e,t.data.meta.pagination.total}))}}},C=e(3744);const S=(0,C.Z)(z,[["render",w],["__scopeId","data-v-348f07a9"]]);var Y=S},2065:function(t,a,e){e.r(a),e.d(a,{default:function(){return D}});var l=e(6252),s=e(3577);const o={style:{padding:"2.5rem 0"}},i={"aria-label":"Page fixed-bottom navigation example"},n={class:"pagination"},d={key:0,class:"page-item"},r=(0,l._)("a",{class:"page-link"},[(0,l._)("span",{"aria-hidden":"true"},"«")],-1),c=[r],u=["onClick"],b={key:1,class:"page-item"},p=(0,l._)("a",{class:"page-link"},[(0,l._)("span",{"aria-hidden":"true"},"»")],-1),m=[p];function h(t,a,e,r,p,h){const g=(0,l.up)("WriteView"),_=(0,l.up)("TableView");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(g),(0,l.Wm)(_),(0,l._)("nav",i,[(0,l._)("ul",n,[this.$route.params.id>10?((0,l.wg)(),(0,l.iD)("li",d,c)):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(parseInt(p.pageSize/10)+1,(a=>((0,l.wg)(),(0,l.iD)("li",{class:(0,s.C_)(["page-item",{active:a==this.$route.params.id}]),key:a},[(0,l._)("a",{class:"page-link",onClick:e=>this.$router.push({name:t.communityTable,params:{id:a}})},(0,s.zw)(a),9,u)],2)))),128)),this.$route.params.id>parseInt(p.pageSize/10)+1?((0,l.wg)(),(0,l.iD)("li",b,m)):(0,l.kq)("",!0)])])])}var g=e(5921),_=e(7579),f=e(9669),v=e.n(f),w={name:"CommunityView",data(){return{pageSize:"",isActive:1}},components:{TableView:g["default"],WriteView:_["default"]},mounted(){v()("/api/posts",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`}}).then((t=>{this.pageSize=t.data.meta.pagination.total}))},created(){}},k=e(3744);const y=(0,k.Z)(w,[["render",h]]);var D=y},7579:function(t,a,e){e.r(a),e.d(a,{default:function(){return y}});var l=e(6252),s=e(9963);const o={class:"modal fade justify-content-center",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},i={class:"modal-dialog"},n={class:"modal-content"},d=(0,l._)("div",{class:"modal-header"},[(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),r={class:"modal-body"},c={class:"mb-3"},u=(0,l._)("label",{for:"recipient-name",class:"col-form-label"},"제목",-1),b={class:"mb-3"},p=(0,l._)("label",{for:"message-text",class:"col-form-label"},"내용",-1),m={class:"modal-footer"},h=(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 닫기 ",-1);function g(t,a,e,g,_,f){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",o,[(0,l._)("div",i,[(0,l._)("div",n,[d,(0,l._)("div",r,[(0,l._)("form",null,[(0,l._)("div",c,[u,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"recipient-name",autocomplete:"off","onUpdate:modelValue":a[0]||(a[0]=t=>_.title=t)},null,512),[[s.nr,_.title]])]),(0,l._)("div",b,[p,(0,l.wy)((0,l._)("textarea",{class:"form-control",id:"message-text","onUpdate:modelValue":a[1]||(a[1]=t=>_.content=t),autocomplete:"off"},null,512),[[s.nr,_.content]])])])]),(0,l._)("div",m,[h,(0,l._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:a[2]||(a[2]=(...t)=>f.savePost&&f.savePost(...t))}," 등록 ")])])])])])}var _=e(9669),f=e.n(_),v={data(){return{title:"",content:""}},methods:{savePost(){f().post("/api/posts",{headers:{Authorization:`Bearer ${localStorage.getItem("jwt")}`},data:{title:this.title,content:this.content}}).then((t=>{console.log(t)})).catch((t=>{console.log(t)}))}}},w=e(3744);const k=(0,w.Z)(v,[["render",g]]);var y=k}}]);
//# sourceMappingURL=65.2c987746.js.map